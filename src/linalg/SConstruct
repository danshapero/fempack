#!/usr/bin/env python

Import('masterEnv')
env = masterEnv.Clone(F90FLAGS='-fbounds-check -g -fopenmp')

linalg_sources = Split("""matrix.f90 
                          matrix_formats/csr.f90
                          matrix_formats/bsr.f90
                          permutation.f90
                          solver.f90
                          solvers/cg.f90
                          preconditioners/jacobi.f90
                          preconditioners/bjacobi.f90
                          preconditioners/ilu.f90
                          linalg.f90""")

libs_for_linalg = Split("""blas lapack gomp""")

#linalgobjs = env.Object(linalg_sources)

linalglib = env.Library('linalg',linalg_sources,LIBS=libs_for_linalg)

#env.Alias('install', env.Install('../../lib',linalglib))

